<apex:page sidebar="false" showHeader="false" standardStylesheets="true" id="thePage" Standardcontroller="DRDW_Budget_Master__c" extensions="DRDW_CreateBudgetMaster" >
<head>
        <title>Create Project Budget</title>
         <c:DRDW_QFOR_Styles />
    </head>  
    <body>
    <style>
    <!--Intermediate header styles for the demo. To be removed when new header component is in place-->
    .profile-dropdown .profile-menu:hover {
    color: #92d400 !important;
    }
   .profile-dropdown .profile-menu{
    display: inline-block;
    padding: 6px 12px;
    margin-bottom: 0;
    font-size: 14px;
    font-weight: 400;
    line-height: 1.42857143;
    text-align: center;
    white-space: nowrap;
    vertical-align: middle;
    -ms-touch-action: manipulation;
    touch-action: manipulation;
    cursor: pointer;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    background-image: none;
    border: 1px solid transparent;
    border-radius: 4px;
    color: inherit;
    font: inherit;
    margin: 0;
    text-transform: none;
    }
    
    .btn-override{
     color:black !important;
    }
    
    input.hidebox 
  {
     display:none;
  }
    .df_drdw-createstudy main .create-study-form fieldset.accordion-child .field-wrapper textarea {
    width : 100%;    
    }
    </style>
   
    
        <div class='df_drdw content'>
            <!--Using QFORs Index component for the Top Header -->
            <c:DRDW_IndexNew />
            <div class="df_drdw-createstudy budget-related-page vertical-compress columns-compressed">
                
                <header>
                    
                    <div class="container">
                        <div class="row">
                            <div class="col-xs-12">
                                <apex:outputpanel rendered="{!IF(AND(AND($CurrentPage.parameters.id == NULL,$CurrentPage.parameters.isReport==Null),$CurrentPage.parameters.capid==null),true,false)}">
                                    <h1><apex:outputLink value="{!IF(rectype='idea','/apex/DRDW_CreateIdea?id='+PrjId+'&isEdit=false&section=#Project_Budgets',IF(rectype='gen','/apex/DRDW_CreateGeneration?id='+PrjId+'&isEdit=false&section=#Project_Budgets','/apex/DRDW_CreateAssessment?id='+PrjId+'&isEdit=false&section=#Project_Budgets'))}">{!oMaster.Title__c}</apex:outputLink> : Create Project Budget</h1>
                                    <p></p>                                </apex:outputpanel>  
                                  <apex:outputpanel rendered="{!IF(AND($CurrentPage.parameters.id == NULL,$CurrentPage.parameters.isReport=='true'),true,false)}">
                                    <h1>Create Project Budget</h1>
                                    <p></p>                                </apex:outputpanel>     
                                <apex:outputpanel rendered="{!IF($CurrentPage.parameters.id!= NULL,true,false)}">
                                    <h1>Project Budget for <apex:outputLink value="{!IF(rectype='idea','/apex/DRDW_CreateIdea?id='+oMaster.Related_To__c+'&isEdit=false&section=#Project_Budgets',IF(rectype='gen','/apex/DRDW_CreateGeneration?id='+oMaster.Related_To__c+'&isEdit=false&section=#Project_Budgets',IF(rectype='assess','/apex/DRDW_CreateAssessment?id='+oMaster.Related_To__c+'&isEdit=false&section=#Project_Budgets',IF(rectype='ideaCap','/apex/DRDW_CreateIdeaCapability?id='+oMaster.Activity__c +'&isEdit=false&section=#Project_Budgets','/apex/DRDW_CreateExternalActivity?id='+oMaster.Activity__c+'&isEdit=false&section=#Project_Budgets'))))}">{!oMaster.Titletab__c}</apex:outputLink>
                                    </h1>
                                    <p></p>                                
                                </apex:outputpanel>   
                                 <apex:outputpanel rendered="{!IF(AND($CurrentPage.parameters.id == NULL,$CurrentPage.parameters.capid!=null),true,false)}">
                                    <h1><apex:outputLink value="{!IF(rectype='extcap','/apex/DRDW_CreateExternalActivity?id='+oMaster.Activity__c+'&isEdit=false&section=#Project_Budgets','/apex/DRDW_ViewActivity?id='+oMaster.Activity__c+'&isEdit=false&section=#Project_Budgets')}">{!oMaster.Title__c}</apex:outputLink> : Create Activity Budget
                                    </h1>
                                    <p></p>                                
                                </apex:outputpanel>                                 
                            </div>
                        </div>
                    </div>
                    
                </header>
                <main class="container">
                     <apex:pageMessages ></apex:pageMessages>
                       <apex:outputpanel rendered="{!IF(OR($CurrentPage.parameters.id == NULL,AND($CurrentPage.parameters.id != NULL,$CurrentPage.parameters.isEdit=='true')),true,false)}">
                       
                       <apex:form Styleclass="create-study-form accordion">
                        
                        <!---------------------------------------------------------Buttons Section---------------------------------------------------------------------------------------------->
                            <section class="row submit">
                                <div class="col-xs-12">
                                <input type="button" class="btn button submit-form-button" value="Save"/>
                                    <apex:actionFunction Name="doSubmit" action="{!save}"/>
                                  <!--  <apex:commandButton styleClass="btn button" value="Save" action="{!save}" /> -->
                                      <apex:outputLink styleClass="btn button" value="{!IF(rectype='idea','/apex/DRDW_CreateIdea?id='+oMaster.Related_To__c+'&isEdit=false&section=#Project_Budgets',IF(rectype='gen','/apex/DRDW_CreateGeneration?id='+oMaster.Related_To__c+'&isEdit=false&section=#Project_Budgets',IF(rectype='assess','/apex/DRDW_CreateAssessment?id='+oMaster.Related_To__c+'&isEdit=false&section=#Project_Budgets',IF(rectype='ideaCap','/apex/DRDW_CreateIdeaCapability?id='+oMaster.Activity__c +'&isEdit=false&section=#Project_Budgets',IF(rectype='extcap','/apex/DRDW_CreateExternalActivity?id='+oMaster.Activity__c +'&isEdit=false&section=#Project_Budgets','/apex/DRDW_ViewActivity?id='+oMaster.Activity__c+'&isEdit=false&section=#Project_Budgets')))))}">Cancel</apex:outputLink>
                                </div>
                            </section>
                            <!---------------------------------------------------------Buttons Section---------------------------------------------------------------------------------------------->
                       
                       <section class="row">
                       
                                <div class="col-xs-12">
                                        <h2 class="accordion-parent">Project Budget Details
                                        <span class="icon-large-caret pull-right down"></span>
                                        <a href='#Budget_Master'/></h2>
                                        <fieldset class="accordion-child" id="Budget_Master">
                                                
                                                <div class="row">
                                                    <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>Related Project</label><span class="required-label"> *</span>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Related_To__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Related_To__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:outputPanel rendered="{!if(isReport=='true',true,false)}">
                                                                <apex:inputField value="{!oMaster.Related_To__c}" styleclass="required"></apex:inputField>    
                                                            </apex:outputPanel>     
                                                            <apex:outputPanel rendered="{!if(isReport !='true',true,false)}">
                                                                <apex:outputLink value="{!IF(rectype='idea','/apex/DRDW_CreateIdea?id='+oMaster.Related_To__c+'&isEdit=false&section=#Project_Budgets',IF(rectype='gen','/apex/DRDW_CreateGeneration?id='+oMaster.Related_To__c+'&isEdit=false&section=#Project_Budgets',IF(rectype='assess','/apex/DRDW_CreateAssessment?id='+oMaster.Related_To__c+'&isEdit=false&section=#Project_Budgets','#')))}">{!ProjName}</apex:outputLink>   
                                                            </apex:outputPanel>                                  
                                                        </div>
                                                        
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Title__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Title__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Title__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:outputPanel rendered="{!IF($CurrentPage.parameters.isReport == NULL,true,false)}">
                                                            <apex:outputField value="{!oMaster.Title__c}" ></apex:outputField>     
                                                            </apex:outputPanel>   
                                                            <apex:outputPanel rendered="{!IF($CurrentPage.parameters.isReport != NULL,true,false)}">
                                                            <apex:inputField value="{!oMaster.Title__c}" ></apex:inputField>     
                                                            </apex:outputPanel>                                    
                                                        </div>
                                                </div>
                                        
                                                <div class="row"> 
                                                        
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Cost_Center__c.Label}</label><span class="required-label"> *</span>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Cost_Center__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Cost_Center__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper lookupreadonly left-aligned">
                                                            <apex:inputField value="{!oMaster.Cost_Center__c}" styleclass="required" ></apex:inputField>                                          
                                                        </div>
                                                         <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.PO__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.PO__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.PO__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:inputField value="{!oMaster.PO__c}" ></apex:inputField>                                          
                                                        </div>
                                                </div>                                              
                                                <div class="row">                                                       
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Vendorr__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Vendorr__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Vendorr__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:inputField value="{!oMaster.Vendorr__c}" ></apex:inputField>                                          
                                                        </div>
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Total_Contract_Value__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Total_Contract_Value__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Total_Contract_Value__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:inputField value="{!oMaster.Total_Contract_Value__c}" ></apex:inputField>
                                                        </div>
                                                </div>
                                                
                                                <div class="row">
                                                        
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Scientist_Owner__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Scientist_Owner__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Scientist_Owner__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper hide-user-select lookupreadonly left-aligned">
                                                            <apex:inputField value="{!oMaster.Scientist_Owner__c}" ></apex:inputField>
                                                        </div>
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Contract_Start_Date__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Contract_Start_Date__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Contract_Start_Date__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:inputField value="{!oMaster.Contract_Start_Date__c}" ></apex:inputField>                                         
                                                        </div>
                                                </div>
                                                <div class="row">
                                                        
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Contract_End_Date__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Contract_End_Date__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Contract_End_Date__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:inputField value="{!oMaster.Contract_End_Date__c}" ></apex:inputField>                                           
                                                        </div>
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Total_Rolling_Forecast__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Total_Rolling_Forecast__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Total_Rolling_Forecast__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <apex:variable var="amount" value="{!oMaster.Total_Rolling_Forecast__c}" />
                                                        <div class="{!IF((amount!= null && amount < 0),'currency-round-off col-xs-3 field-wrapper left-aligned red-color-text','currency-round-off col-xs-3 field-wrapper left-aligned')}">
                                                             <apex:outputText value="{!oMaster.Total_Rolling_Forecast__c}" >$</apex:outputText>
                                                        </div>
                                                </div>
                                                 <apex:outputPanel id="milestone1"> 
                                                <div class="row">
                                                        <!-- <div class="col-xs-3 field-wrapper currency-round-off">
                                                            <apex:outputText value="{!oMaster.Total_Rolling_Forecast__c}" >$</apex:outputText>                                           
                                                        </div> -->
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Total_Actuals__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Total_Actuals__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Total_Actuals__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <apex:variable var="amount" value="{!oMaster.Total_Actuals__c}" />
                                                        <div class="{!IF((amount!= null && amount < 0),'currency-round-off col-xs-3 field-wrapper left-aligned red-color-text','currency-round-off col-xs-3 field-wrapper left-aligned')}">
                                                             <apex:outputText value="{!oMaster.Total_Actuals__c}">$</apex:outputText>                             
                                                        </div>
                                                        <!-- <div class="col-xs-3 field-wrapper currency-round-off">
                                                            <apex:outputText value="{!oMaster.Total_Actuals__c}" >$</apex:outputText>                                           
                                                        </div> -->
                                                        
                                                </div>                                          
                                               
                                                <div class="row">
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Payment_Milestone_1__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Payment_Milestone_1__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Payment_Milestone_1__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:actionSupport reRender="milestone1" event="onchange">
                                                            <apex:inputField value="{!oMaster.Payment_Milestone_1__c}" ></apex:inputField>  
                                                        </apex:actionSupport>   
                                                        </div>
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Planned_Amount_for_Milestone_1__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Planned_Amount_for_Milestone_1__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Planned_Amount_for_Milestone_1__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:inputField value="{!oMaster.Planned_Amount_for_Milestone_1__c}" ></apex:inputField>
                                                        </div>
                                                </div>
                                                <div class="row">
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <apex:outputPanel rendered="{!IF(oMaster.Payment_Milestone_1__c = 'Other',true,false)}">
                                                            
                                                                <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Other_Milestone_1__c.Label}</label>
                                                                <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Other_Milestone_1__c.inlinehelptext != NULL,true,false)}">
                                                                    <div class="helpOrb tooltip">
                                                                        <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Other_Milestone_1__c.inlinehelptext}</span>
                                                                    </div>  
                                                            </apex:outputpanel>  
                                                        </apex:outputPanel>
                                                        </div>     
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:outputPanel rendered="{!IF(oMaster.Payment_Milestone_1__c = 'Other',true,false)}">
                                                                <apex:inputField value="{!oMaster.Other_Milestone_1__c}" ></apex:inputField>
                                                            </apex:outputpanel>
                                                        </div>
                                                </div>                                             
                                                <!--div class="row">
                                                        
                                                        <<div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Milestone_1_Paid__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Milestone_1_Paid__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Milestone_1_Paid__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:inputField value="{!oMaster.Milestone_1_Paid__c}" ></apex:inputField>
                                                        </div>>
                                                </div-->
                                                </apex:outputPanel>
                                                <apex:outputPanel id="milestone2"> 
                                                    <div class="row">
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Payment_Milestone_2__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Payment_Milestone_2__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Payment_Milestone_2__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                        <apex:actionSupport reRender="milestone2" event="onchange">
                                                            <apex:inputField value="{!oMaster.Payment_Milestone_2__c}" ></apex:inputField>
                                                            </apex:actionSupport>   
                                                        </div>
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Planned_Amount_for_Milestone_2__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Planned_Amount_for_Milestone_2__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Planned_Amount_for_Milestone_2__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:inputField value="{!oMaster.Planned_Amount_for_Milestone_2__c}" ></apex:inputField>                                          
                                                        </div>
                                                    </div>
                                                <div class="row">
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <apex:outputPanel rendered="{!IF(oMaster.Payment_Milestone_2__c = 'Other',true,false)}">
                                                            
                                                                <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Other_Milestone_2__c.Label}</label>
                                                                <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Other_Milestone_2__c.inlinehelptext != NULL,true,false)}">
                                                                    <div class="helpOrb tooltip">
                                                                        <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Other_Milestone_2__c.inlinehelptext}</span>
                                                                    </div>  
                                                            </apex:outputpanel>  
                                                        </apex:outputPanel>
                                                        </div>     
                                                        
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:outputPanel rendered="{!IF(oMaster.Payment_Milestone_2__c = 'Other',true,false)}">
                                                            <apex:inputField value="{!oMaster.Other_Milestone_2__c}" ></apex:inputField>
                                                            </apex:outputpanel>
                                                        </div>
                                                        <!--<div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Milestone_2_Paid__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Milestone_2_Paid__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Milestone_2_Paid__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:inputField value="{!oMaster.Milestone_2_Paid__c}" ></apex:inputField>                                            
                                                        </div> -->
                                                </div>
                                                </apex:outputPanel> 
                                                <apex:outputPanel id="milestone3">
                                                <div class="row">
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Payment_Milestone_3__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Payment_Milestone_3__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Payment_Milestone_3__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                         <apex:actionSupport reRender="milestone3" event="onchange">
                                                            <apex:inputField value="{!oMaster.Payment_Milestone_3__c}" ></apex:inputField>  
                                                            </apex:actionSupport>       
                                                        </div>
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Planned_Amount_for_Milestone_3__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Planned_Amount_for_Milestone_3__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Planned_Amount_for_Milestone_3__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:inputField value="{!oMaster.Planned_Amount_for_Milestone_3__c}" ></apex:inputField>                                          
                                                        </div>
                                                </div>
                                                 <div class="row">
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <apex:outputPanel rendered="{!IF(oMaster.Payment_Milestone_3__c = 'Other',true,false)}">
                                                            
                                                                <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Other_Milestone_3__c.Label}</label>
                                                                <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Other_Milestone_3__c.inlinehelptext != NULL,true,false)}">
                                                                    <div class="helpOrb tooltip">
                                                                        <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Other_Milestone_3__c.inlinehelptext}</span>
                                                                    </div>  
                                                            </apex:outputpanel>  
                                                        </apex:outputPanel>
                                                        </div>     
                                                        
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:outputPanel rendered="{!IF(oMaster.Payment_Milestone_3__c = 'Other',true,false)}">
                                                            <apex:inputField value="{!oMaster.Other_Milestone_3__c}" ></apex:inputField>
                                                            </apex:outputpanel>
                                                        </div>
                                                        <!-- <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Milestone_3_Paid__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Milestone_3_Paid__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Milestone_3_Paid__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:inputField value="{!oMaster.Milestone_3_Paid__c}" ></apex:inputField>                                            
                                                        </div> -->
                                                </div>
                                                </apex:outputPanel>
                                                <apex:outputPanel id="milestone4"> 
                                                <div class="row">
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Payment_Milestone_4__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Payment_Milestone_4__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Payment_Milestone_4__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                         <apex:actionSupport reRender="milestone4" event="onchange">
                                                            <apex:inputField value="{!oMaster.Payment_Milestone_4__c}" ></apex:inputField>    
                                                         </apex:actionSupport>      
                                                        </div>
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Planned_Amount_for_Milestone_4__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Planned_Amount_for_Milestone_4__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Planned_Amount_for_Milestone_4__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:inputField value="{!oMaster.Planned_Amount_for_Milestone_4__c}" ></apex:inputField>
                                                        </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-xs-3 label-wrapper left-aligned">
                                                            <apex:outputPanel rendered="{!IF(oMaster.Payment_Milestone_4__c = 'Other',true,false)}">
                                                            
                                                                <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Other_Milestone_4__c.Label}</label>
                                                                <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Other_Milestone_4__c.inlinehelptext != NULL,true,false)}">
                                                                    <div class="helpOrb tooltip">
                                                                        <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Other_Milestone_4__c.inlinehelptext}</span>
                                                                    </div>  
                                                            </apex:outputpanel>  
                                                        </apex:outputPanel>
                                                        </div>     
                                                        
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:outputPanel rendered="{!IF(oMaster.Payment_Milestone_4__c = 'Other',true,false)}">
                                                            <apex:inputField value="{!oMaster.Other_Milestone_4__c}" ></apex:inputField>
                                                            </apex:outputpanel>
                                                        </div>
                                                        <!--<div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Milestone_4_Paid__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Milestone_4_Paid__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Milestone_4_Paid__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:inputField value="{!oMaster.Milestone_4_Paid__c}" ></apex:inputField>                                            
                                                        </div> -->
                                                </div>
                                                </apex:outputPanel>
                                        </fieldset>
                                </div>
                       
                       </section>
                       
                        <!---------------------------------------------------------Buttons Section---------------------------------------------------------------------------------------------->
                            <section class="row submit with-top-margin">
                                <div class="col-xs-12">
                                <input type="button" class="btn button submit-form-button" value="Save"/>
                                    <apex:actionFunction Name="doSubmit" action="{!save}"/>
                                  <!-- <apex:commandButton styleClass="btn button" value="Save" action="{!save}" /> -->
                                   <apex:outputLink styleClass="btn button" value="{!IF(rectype='idea','/apex/DRDW_CreateIdea?id='+oMaster.Related_To__c+'&isEdit=false&section=#Project_Budgets',IF(rectype='gen','/apex/DRDW_CreateGeneration?id='+oMaster.Related_To__c+'&isEdit=false&section=#Project_Budgets',IF(rectype='assess','/apex/DRDW_CreateAssessment?id='+oMaster.Related_To__c+'&isEdit=false&section=#Project_Budgets',IF(rectype='ideaCap','/apex/DRDW_CreateIdeaCapability?id='+oMaster.Activity__c +'&isEdit=false&section=#Project_Budgets',IF(rectype='extcap','/apex/DRDW_CreateExternalActivity?id='+oMaster.Activity__c +'&isEdit=false&section=#Project_Budgets','/apex/DRDW_ViewActivity?id='+oMaster.Activity__c+'&isEdit=false&section=#Project_Budgets')))))}">Cancel</apex:outputLink>
                                </div>
                            </section>
                            <!---------------------------------------------------------Buttons Section---------------------------------------------------------------------------------------------->
                        
                       
                       </apex:form>
                       
                       </apex:outputpanel>
                        
                        <apex:outputpanel rendered="{!IF(AND($CurrentPage.parameters.id != NULL,OR($CurrentPage.parameters.isEdit=='false',$CurrentPage.parameters.isEdit==NULL)),true,false)}">
                        <apex:form Styleclass="create-study-form accordion">
                         <!---------------------------------------------------------Buttons Section---------------------------------------------------------------------------------------------->
                            <section class="row submit">
                                <div class="col-xs-12">
                                
                                <apex:outputPanel rendered="{!if(OR(isAdmin,isFin),true,false)}">
                                    <apex:commandButton styleClass="btn button" value="Edit" action="{!Edit}" />
                                   
                                     <a class="btn button" onClick="df_drdw.createStudy.showDeleteConfirmModal();">Delete</a> 
                                    </apex:outputPanel>
                                </div>
                            </section>
                            <!---------------------------------------------------------Buttons Section---------------------------------------------------------------------------------------------->
                      
                         <section class="row">
                                <div class="col-xs-12">
                                    <h2 class="accordion-parent">Project Budget Details
                                        <span class="icon-large-caret pull-right down"></span>
                                    <a href='#Budget_Master'/></h2>
                                    
                                    <fieldset class="accordion-child" id="Budget_Master">
                                            <apex:outputPanel id="master">
                                                <div class="row">
                                                    <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>Related Project</label><span class="required-label"> *</span>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Related_To__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Related_To__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                           <!-- <apex:outputField value="{!oMaster.Related_To__c}" styleclass="required"></apex:outputField>    -->  
                                                          <!-- <apex:outputLink value="{!ProjLink}">{!ProjName}</apex:outputLink>    -->
                                                          <apex:outputLink value="{!IF(rectype='idea','/apex/DRDW_CreateIdea?id='+oMaster.Related_To__c+'&isEdit=false&section=#Project_Budgets',IF(rectype='gen','/apex/DRDW_CreateGeneration?id='+oMaster.Related_To__c+'&isEdit=false&section=#Project_Budgets',IF(rectype='assess','/apex/DRDW_CreateAssessment?id='+oMaster.Related_To__c+'&isEdit=false&section=#Project_Budgets',IF(rectype='ideaCap','/apex/DRDW_CreateIdeaCapability?id='+oMaster.Activity__c +'&isEdit=false&section=#Project_Budgets','/apex/DRDW_CreateExternalActivity?id='+oMaster.Activity__c+'&isEdit=false&section=#Project_Budgets'))))}">{!ProjName}</apex:outputLink>                                
                                                        </div>
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Title__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Title__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Title__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:outputField value="{!oMaster.Title__c}" ></apex:outputField>                                          
                                                        </div>
                                                </div>
                                                
                                                 <div class="row">
                                                        
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Cost_Center__c.Label}</label><span class="required-label"> *</span>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Cost_Center__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Cost_Center__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:outputText value="{!CostCenterName}" ></apex:outputText>                                          
                                                        </div>
                                                         <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.PO__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.PO__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.PO__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:outputField value="{!oMaster.PO__c}" ></apex:outputField>                                          
                                                        </div>
                                                        
                                                </div> 
                                                
                                                <div class="row">
                                                       
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Vendorr__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Vendorr__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Vendorr__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:outputField value="{!oMaster.Vendorr__c}" ></apex:outputField>                                          
                                                        </div>
                                                         <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Total_Contract_Value__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Total_Contract_Value__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Total_Contract_Value__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <apex:variable var="amount" value="{!oMaster.Total_Contract_Value__c}" />
                                                        <div class="{!IF((amount!= null && amount < 0),'currency-round-off col-xs-3 field-wrapper left-aligned red-color-text','currency-round-off col-xs-3 field-wrapper left-aligned')}">
                                                             <apex:outputText value="{!oMaster.Total_Contract_Value__c}" >$</apex:outputText>
                                                        </div>
                                                        
                                                </div>
                                            
                                                <div class="row">
                                                       
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Scientist_Owner__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Scientist_Owner__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Scientist_Owner__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper hide-user-select left-aligned">
                                                            <apex:outputField value="{!oMaster.Scientist_Owner__c}" ></apex:outputField>                                            
                                                        </div>
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Contract_Start_Date__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Contract_Start_Date__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Contract_Start_Date__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:outputField value="{!oMaster.Contract_Start_Date__c}" ></apex:outputField>                                         
                                                        </div>
                                                        <!-- <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:outputText value="{!oMaster.Total_Contract_Value__c}" ></apex:outputText>
                                                        </div> -->
                                                </div>
                                                <div class="row">
                                                        
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Contract_End_Date__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Contract_End_Date__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Contract_End_Date__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:outputField value="{!oMaster.Contract_End_Date__c}" ></apex:outputField>
                                                        </div>
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Total_Rolling_Forecast__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Total_Rolling_Forecast__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Total_Rolling_Forecast__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <apex:variable var="amount" value="{!oMaster.Total_Rolling_Forecast__c}" />
                                                        <div class="{!IF((amount!= null && amount < 0),'currency-round-off col-xs-3 field-wrapper left-aligned red-color-text','currency-round-off col-xs-3 field-wrapper left-aligned')}">
                                                             <apex:outputText value="{!oMaster.Total_Rolling_Forecast__c}" >$</apex:outputText>
                                                        </div>
                                                </div>
                                                <apex:outputPanel id="milestone1">
                                                <div class="row">
                                                        
                                                        <!-- <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:outputText value="{!oMaster.Total_Rolling_Forecast__c}" ></apex:outputText>
                                                        </div> -->
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Total_Actuals__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Total_Actuals__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Total_Actuals__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <apex:variable var="amount" value="{!oMaster.Total_Actuals__c}" />
                                                        <div class="{!IF((amount!= null && amount < 0),'currency-round-off col-xs-3 field-wrapper left-aligned red-color-text','currency-round-off col-xs-3 field-wrapper left-aligned')}">
                                                             <apex:outputText value="{!oMaster.Total_Actuals__c}">$</apex:outputText>                             
                                                        </div>
                                                        <!-- <div class="col-xs-3 field-wrapper">
                                                            <apex:outputText value="{!oMaster.Total_Actuals__c}" ></apex:outputText>                                           
                                                        </div> -->
                                                        
                                                </div>
                                                
                                                <div class="row">
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Payment_Milestone_1__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Payment_Milestone_1__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Payment_Milestone_1__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:outputField value="{!oMaster.Payment_Milestone_1__c}" ></apex:outputField> 
                                                        </div>
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Planned_Amount_for_Milestone_1__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Planned_Amount_for_Milestone_1__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Planned_Amount_for_Milestone_1__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <apex:variable var="amount" value="{!oMaster.Planned_Amount_for_Milestone_1__c}" />
                                                        <div class="{!IF((amount!= null && amount < 0),'currency-round-off col-xs-3 field-wrapper left-aligned red-color-text','currency-round-off col-xs-3 field-wrapper left-aligned')}">
                                                             <apex:outputText value="{!oMaster.Planned_Amount_for_Milestone_1__c}" >$</apex:outputText>                      
                                                        </div>
                                                </div>
                                                <div class="row">
                                                         <div class="col-xs-3 label-wrapper left-aligned">
                                                            <apex:outputPanel rendered="{!IF(oMaster.Payment_Milestone_1__c = 'Other',true,false)}">
                                                            
                                                                <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Other_Milestone_1__c.Label}</label>
                                                                <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Other_Milestone_1__c.inlinehelptext != NULL,true,false)}">
                                                                    <div class="helpOrb tooltip">
                                                                        <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Other_Milestone_1__c.inlinehelptext}</span>
                                                                    </div>  
                                                            </apex:outputpanel>  
                                                        </apex:outputPanel>
                                                        </div>     
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:outputPanel rendered="{!IF(oMaster.Payment_Milestone_1__c = 'Other',true,false)}">
                                                            <apex:outputField value="{!oMaster.Other_Milestone_1__c}" ></apex:outputField>
                                                            </apex:outputpanel>
                                                        </div>
                                                </div>
                                                <!--div class="row">
                                                   
                                                        <!-- <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:outputText value="{!oMaster.Planned_Amount_for_Milestone_1__c}" >
                                                            </apex:outputText>                
                                                        </div> -->
                                                        <!--<div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Milestone_1_Paid__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Milestone_1_Paid__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Milestone_1_Paid__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:outputField value="{!oMaster.Milestone_1_Paid__c}" ></apex:outputField>                                            
                                                        </div>>
                                                </div-->
                                                </apex:outputPanel>
                                                <apex:outputPanel id="milestone2">
                                                <div class="row">
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Payment_Milestone_2__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Payment_Milestone_2__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Payment_Milestone_2__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:outputField value="{!oMaster.Payment_Milestone_2__c}" ></apex:outputField>                                         
                                                        </div>
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Planned_Amount_for_Milestone_2__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Planned_Amount_for_Milestone_2__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Planned_Amount_for_Milestone_2__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <apex:variable var="amount" value="{!oMaster.Planned_Amount_for_Milestone_2__c}" />
                                                        <div class="{!IF((amount!= null && amount < 0),'currency-round-off col-xs-3 field-wrapper left-aligned red-color-text','currency-round-off col-xs-3 field-wrapper left-aligned')}">
                                                             <apex:outputText value="{!oMaster.Planned_Amount_for_Milestone_2__c}" >$</apex:outputText>                      
                                                        </div>
                                                </div>
                                                <div class="row">
                                                        

                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <apex:outputPanel rendered="{!IF(oMaster.Payment_Milestone_2__c = 'Other',true,false)}">
                                                            
                                                                <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Other_Milestone_2__c.Label}</label>
                                                                <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Other_Milestone_2__c.inlinehelptext != NULL,true,false)}">
                                                                    <div class="helpOrb tooltip">
                                                                        <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Other_Milestone_2__c.inlinehelptext}</span>
                                                                    </div>  
                                                            </apex:outputpanel>  
                                                        </apex:outputPanel>
                                                        </div>     
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:outputPanel rendered="{!IF(oMaster.Payment_Milestone_2__c = 'Other',true,false)}">
                                                            <apex:outputField value="{!oMaster.Other_Milestone_2__c}" ></apex:outputField>
                                                            </apex:outputpanel>
                                                        </div>
                                                        <!-- <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:outputText value="{!oMaster.Planned_Amount_for_Milestone_2__c}" ></apex:outputText>                                          
                                                        </div> -->
                                                        <!-- <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Milestone_2_Paid__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Milestone_2_Paid__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Milestone_2_Paid__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:outputField value="{!oMaster.Milestone_2_Paid__c}" ></apex:outputField>                                            
                                                        </div> -->
                                                </div>
                                                </apex:outputPanel>
                                                <apex:outputPanel id="milestone3">
                                                <div class="row">
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Payment_Milestone_3__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Payment_Milestone_3__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Payment_Milestone_3__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:outputField value="{!oMaster.Payment_Milestone_3__c}" ></apex:outputField>                                         
                                                        </div>
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Planned_Amount_for_Milestone_3__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Planned_Amount_for_Milestone_3__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Planned_Amount_for_Milestone_3__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <!-- <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:outputText value="{!oMaster.Planned_Amount_for_Milestone_3__c}" ></apex:outputText>                                          
                                                        </div> -->
                                                        <apex:variable var="amount" value="{!oMaster.Planned_Amount_for_Milestone_3__c}" />
                                                        <div class="{!IF((amount!= null && amount < 0),'currency-round-off col-xs-3 field-wrapper left-aligned red-color-text','currency-round-off col-xs-3 field-wrapper left-aligned')}">
                                                             <apex:outputText value="{!oMaster.Planned_Amount_for_Milestone_3__c}" >$</apex:outputText>                      
                                                        </div>
                                                </div>
                                                
                                                
                                                
                                                <div class="row">
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <apex:outputPanel rendered="{!IF(oMaster.Payment_Milestone_3__c = 'Other',true,false)}">
                                                            
                                                                <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Other_Milestone_3__c.Label}</label>
                                                                <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Other_Milestone_3__c.inlinehelptext != NULL,true,false)}">
                                                                    <div class="helpOrb tooltip">
                                                                        <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Other_Milestone_3__c.inlinehelptext}</span>
                                                                    </div>  
                                                            </apex:outputpanel>  
                                                        </apex:outputPanel>
                                                        </div>     
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:outputPanel rendered="{!IF(oMaster.Payment_Milestone_3__c = 'Other',true,false)}">
                                                            <apex:outputField value="{!oMaster.Other_Milestone_3__c}" ></apex:outputField>
                                                            </apex:outputpanel>
                                                        </div>
                                                        <!--div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Milestone_3_Paid__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Milestone_3_Paid__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Milestone_3_Paid__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:outputField value="{!oMaster.Milestone_3_Paid__c}" ></apex:outputField>                                            
                                                        </div> -->
                                                </div>
                                                </apex:outputPanel>
                                                <apex:outputPanel id="milestone4">
                                                <div class="row">
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Payment_Milestone_4__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Payment_Milestone_4__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Payment_Milestone_4__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:outputField value="{!oMaster.Payment_Milestone_4__c}" ></apex:outputField>                                         
                                                        </div>
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Planned_Amount_for_Milestone_4__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Planned_Amount_for_Milestone_4__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Planned_Amount_for_Milestone_4__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <apex:variable var="amount" value="{!oMaster.Planned_Amount_for_Milestone_4__c}" />
                                                        <div class="{!IF((amount!= null && amount < 0),'currency-round-off col-xs-3 field-wrapper left-aligned red-color-text','currency-round-off col-xs-3 field-wrapper left-aligned')}">
                                                             <apex:outputText value="{!oMaster.Planned_Amount_for_Milestone_4__c}" >$</apex:outputText>                      
                                                        </div>
                                                </div>
                                                <div class="row">
                                                        <div class="col-xs-3 label-wrapper left-aligned">
                                                            <apex:outputPanel rendered="{!IF(oMaster.Payment_Milestone_4__c = 'Other',true,false)}">
                                                            
                                                                <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Other_Milestone_4__c.Label}</label>
                                                                <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Other_Milestone_4__c.inlinehelptext != NULL,true,false)}">
                                                                    <div class="helpOrb tooltip">
                                                                        <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Other_Milestone_4__c.inlinehelptext}</span>
                                                                    </div>  
                                                            </apex:outputpanel>  
                                                        </apex:outputPanel>
                                                        </div>     
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:outputPanel rendered="{!IF(oMaster.Payment_Milestone_4__c = 'Other',true,false)}">
                                                            <apex:outputField value="{!oMaster.Other_Milestone_4__c}" ></apex:outputField>
                                                            </apex:outputpanel>
                                                        </div>
                                                        <!-- <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:outputText value="{!oMaster.Planned_Amount_for_Milestone_4__c}" ></apex:outputText>                                          
                                                        </div> -->
                                                        <!-- <div class="col-xs-3 label-wrapper left-aligned">
                                                            <label>{!$ObjectType.DRDW_Budget_Master__c .Fields.Milestone_4_Paid__c.Label}</label>
                                                            <apex:outputpanel rendered="{!IF($ObjectType.DRDW_Budget_Master__c.Fields.Milestone_4_Paid__c.inlinehelptext != NULL,true,false)}">
                                                                <div class="helpOrb tooltip">
                                                                    <span>{!$ObjectType.DRDW_Budget_Master__c.Fields.Milestone_4_Paid__c.inlinehelptext}</span>
                                                                </div>          
                                                            </apex:outputpanel>      
                                                        </div>
                                                        <div class="col-xs-3 field-wrapper left-aligned">
                                                            <apex:outputField value="{!oMaster.Milestone_4_Paid__c}" ></apex:outputField>                                            
                                                        </div> -->
                                                </div>
                                                </apex:outputPanel>
                                                 </apex:outputPanel>  
                                    </fieldset>
                                      
                                </div>
                                
                                <apex:outputPanel rendered="{!IF($CurrentPage.parameters.id != NULL,true,false)}"> 
                                 <div class="col-xs-12">
                                    <h2 class="accordion-parent">Related Budget Line Items
                                        <span class="icon-large-caret pull-right down"></span>
                                        <a href='#Budget_Line'/></h2>
                                        
                                    <fieldset class="accordion-child" id="Budget_Line">
                                        <section class="row no-flex"> 
                                                <apex:outputPanel id="lineitem">
                                                        <div class="accordion-content">
                                                            
                                                            <div class="row">
                                                                <div class="col-xs-3 label-wrapper left-aligned">
                                                                    <label>Total Budget Line Items</label>
                                                                </div>
                                                                <div class="col-xs-3 field-wrapper left-aligned">
                                                                    <span>{!oItems.size} </span>
                                                                </div>
                                                                <div class="col-xs-6 zero-right-padding">
                                                                    <apex:outputPanel rendered="{!if(OR(isAdmin,isFin),true,false)}">
                                                                            <apex:commandButton styleClass="btn button btn-create-new-related-item pull-right" value="Add New Budget Line Item" action="{!AddBudgetLineItem}"/>
                                                                    </apex:outputPanel>     
                                                                </div> 
                                                            </div> 

                                                        <apex:outputpanel id="lineTable">
                                                        
                                                        <apex:outputpanel rendered="{!oItems.size >0}">
                                                        
                                                        <apex:pageBlock >
                                                            <apex:pageBlockTable value="{!oItems}" var="item">
                                                                 <apex:column >
                                                               <apex:facet name="header">Budget Line Item ID</apex:facet>
                                                               <apex:outputLink value="/apex/DRDW_CreateBudgetLineItem?id={!item.id}"> {!item.Name}</apex:outputLink></apex:column>
                                                                 <apex:column value="{!item.Posting_Date__c}"/>
                                                                  <apex:column value="{!item.Activity__c}"/>
                                                                <apex:column >
                                                                    <apex:facet name="header">Actual Amount</apex:facet>
                                                                    <apex:variable var="amount" value="{!item.Actual_Amount__c}" />
                                                                        <div class="{!IF((amount!= null && amount < 0),'red-color-text','')}">
                                                                             <apex:outputText value="{!item.Actual_Amount__c}" >$</apex:outputText>
                                                                        </div>
                                                                </apex:column>
                                                                <apex:column value="{!item.Scientist_Owner__c}"/>                                                               
                                                                <!-- <apex:column value="{!item.Manual_Adjustment__c}"/>
                                                                <apex:column value="{!item.Cost_Element_Description__c}"/>
                                                                <apex:column value="{!item.Accrual__c}"/>  -->
                                                                <apex:column value="{!item.PO_Description__c}" />
                                                                
                                                                <apex:column rendered="{!if(OR(isAdmin,isFin),true,false)}">
                                                                    <apex:facet name="header">Action</apex:facet>
                                                                    <apex:commandlink styleclass="remove-custom-data-row" value="remove" action="{!RemoveBudgetLine}" 
                                                                    onclick="df_drdw.globalEvents.showWaitSpinner();" oncomplete="df_drdw.globalEvents.hideWaitSpinner();"  rerender="lineitem,noLine,master,summary,noSummary">
                                                                        <apex:param name="genericID" value="{!item.Id}" assignTo="{!genericID}" />
                                                                    </apex:commandlink>
                                                                </apex:column> 
                                                                 
                                                            </apex:pageBlockTable>
                                                        </apex:pageBlock>
                                                        </apex:outputpanel>
                                                        </apex:outputpanel>
                                                        
                                                         <apex:outputpanel id="noLine">
                                                            <apex:outputpanel rendered="{!oItems.size==0}">
                                                            <span class="content"><strong>No Budget Line Items</strong></span>
                                                            </apex:outputpanel>
                                                        </apex:outputpanel>   
                                                        
                                                        </div>                                                      
                                                        
                                                </apex:outputPanel>
                                        </section>
                                    </fieldset>
                                </div>
                                </apex:outputpanel> 
                                <apex:outputPanel rendered="{!IF($CurrentPage.parameters.id != NULL,true,false)}"> 
                                 <div class="col-xs-12">
                                    <h2 class="accordion-parent">Related Budget Summary
                                        <span class="icon-large-caret pull-right down"></span>
                                        <a href='#Budget_Summary'/></h2>
                                        
                                    <fieldset class="accordion-child" id="Budget_Summary">
                                        <section class="row no-flex"> 
                                                <apex:outputPanel id="summary">
                                                        
                                                        <div class="accordion-content">
                                                            <div class="row">
                                                                <div class="col-xs-3 label-wrapper left-aligned">
                                                                    <label>Total Budget Summaries</label>
                                                                </div>
                                                                <div class="col-xs-3 field-wrapper left-aligned">
                                                                    <span>{!lWrapper.size} </span>
                                                                </div>
                                                                <div class="col-xs-6 zero-right-padding">
                                                                        <apex:outputPanel rendered="{!if(OR(isAdmin,isFin),true,false)}">
                                                                            <apex:outputlink styleClass="btn button btn-create-new-related-item pull-right" value="/apex/DRDW_CreateBudgetSummaryinfo?budgetId={!oMaster.id}">Add New Budget Summary</apex:outputLink> 
                                                                        </apex:outputPanel>
                                                                </div>
                                                            </div>
                                                        <apex:outputpanel id="summaryTable">
                                                        
                                                        <apex:outputpanel rendered="{!lWrapper.size >0}">
                                                        
                                                        <apex:pageBlock >
                                                            <apex:pageBlockTable value="{!lWrapper}" var="item" styleClass="budget-summary-table">
                                                                 <apex:column >
                                                               <apex:facet name="header">Budget Summary ID</apex:facet>
                                                               <apex:outputLink value="/apex/DRDW_CreateBudgetSummaryinfo?id={!item.oSummary.id}"> {!item.oSummary.Name}</apex:outputLink></apex:column>
                                                                <apex:column value="{!item.oSummary.Quarter__c}"/>
                                                                <apex:column value="{!item.oSummary.Year__c}"/>
                                                                 <apex:column styleClass="business-plan-cell">
                                                                        <apex:facet name="header">Business Plan</apex:facet>
                                                                        <apex:variable var="amount" value="{!item.oSummary.Business_Plan__c}" />
                                                                        <div class="{!IF((amount!= null && amount < 0),'currency-round-off red-color-text','currency-round-off')}">
                                                                             <apex:outputText value="{!item.oSummary.Business_Plan__c}" >$</apex:outputText>
                                                                        </div>
                                                                </apex:column>
                                                                  <apex:column styleClass="fx-forecast-cell">
                                                                        <apex:facet name="header">F"X" Forecast</apex:facet>
                                                                        <apex:variable var="amount" value="{!item.oSummary.F_X_Forecast__c}" />
                                                                        <div class="{!IF((amount!= null && amount < 0),'currency-round-off red-color-text','currency-round-off')}">
                                                                             <apex:outputText value="{!item.oSummary.F_X_Forecast__c}" >$</apex:outputText>
                                                                        </div>
                                                                  </apex:column>
                                                                  <apex:column styleClass="rolling-forecast-cell">
                                                                        <apex:facet name="header">Rolling Forecast</apex:facet>
                                                                        <apex:variable var="amount" value="{!item.oSummary.Rolling_Forecast__c}" />
                                                                        <div class="{!IF((amount!= null && amount < 0),'currency-round-off red-color-text','currency-round-off')}">
                                                                             <apex:outputText value="{!item.oSummary.Rolling_Forecast__c}" >$</apex:outputText>
                                                                        </div>
                                                                    </apex:column>
                                                                <apex:column >
                                                                       <apex:facet name="header">Month Actual 1</apex:facet>
                                                                       <apex:variable var="amount" value="{!item.month_actual_1}" />
                                                                        <div class="{!IF((amount!= null && amount < 0),'currency-round-off red-color-text','currency-round-off')}">
                                                                             <apex:outputText value="{!item.month_actual_1}" >$</apex:outputText>
                                                                        </div>
                                                                </apex:column>
                                                               <apex:column >
                                                                       <apex:facet name="header">Month Actual 2</apex:facet>
                                                                       <apex:variable var="amount" value="{!item.month_actual_2}" />
                                                                        <div class="{!IF((amount!= null && amount < 0),'currency-round-off red-color-text','currency-round-off')}">
                                                                             <apex:outputText value="{!item.month_actual_2}" >$</apex:outputText>
                                                                        </div>
                                                                </apex:column>
                                                               <apex:column >
                                                                        <apex:facet name="header">Month Actual 3</apex:facet>
                                                                        <apex:variable var="amount" value="{!item.month_actual_3}" />
                                                                        <div class="{!IF((amount!= null && amount < 0),'currency-round-off red-color-text','currency-round-off')}">
                                                                             <apex:outputText value="{!item.month_actual_3}" >$</apex:outputText>
                                                                        </div>
                                                                </apex:column>
                                                                <apex:column >
                                                                    <apex:facet name="header">Total Actuals</apex:facet>
                                                                    <apex:variable var="amount" value="{!item.oSummary.Q_Total_Actuals__c}" />
                                                                        <div class="{!IF((amount!= null && amount < 0),'currency-round-off red-color-text','currency-round-off')}">
                                                                             <apex:outputText value="{!item.oSummary.Q_Total_Actuals__c}" >$</apex:outputText>
                                                                        </div>
                                                                </apex:column>
                                                                <apex:column >
                                                                    <apex:facet name="header">Q Actual Vs Rolling Forecast</apex:facet>
                                                                    <apex:variable var="amount" value="{!item.oSummary.Q_Actual_vs_Rolling_Forecast__c}" />
                                                                        <div class="{!IF((amount!= null && amount < 0),'currency-round-off red-color-text','currency-round-off')}">
                                                                             <apex:outputText value="{!item.oSummary.Q_Actual_vs_Rolling_Forecast__c}" >$</apex:outputText>
                                                                        </div>
                                                                </apex:column>                                                                
                                                                 <apex:column rendered="{!if(OR(isAdmin,isFin),true,false)}">
                                                                    <apex:facet name="header">Action</apex:facet>
                                                                    <apex:commandlink styleclass="remove-custom-data-row" value="remove" action="{!RemoveBudgetSummary}" 
                                                                    onclick="df_drdw.globalEvents.showWaitSpinner();" oncomplete="df_drdw.globalEvents.hideWaitSpinner();"  rerender="lineitem,noLine,master,summary,noSummary">
                                                                        <apex:param name="genericID" value="{!item.oSummary.Id}" assignTo="{!genericID}" />
                                                                    </apex:commandlink>
                                                                </apex:column>
                                                                 
                                                            </apex:pageBlockTable>
                                                        </apex:pageBlock>
                                                        </apex:outputpanel>
                                                        </apex:outputpanel>
                                                        
                                                         <apex:outputpanel id="noSummary">
                                                            <apex:outputpanel rendered="{!lWrapper.size==0}">
                                                            <span class="content"><strong>No Budget Summaries</strong></span>
                                                            </apex:outputpanel>
                                                        </apex:outputpanel>   
                                                        
                                                        </div>                                                      
                                                        
                                                </apex:outputPanel>
                                        </section>
                                    </fieldset>
                                </div>
                                </apex:outputpanel> 
                       
                       </section>
                       
                        <!---------------------------------------------------------Buttons Section---------------------------------------------------------------------------------------------->
                            <section class="row submit with-top-margin">
                                <div class="col-xs-12">
                                <apex:outputPanel rendered="{!if(OR(isAdmin,isFin),true,false)}">
                                    <apex:commandButton styleClass="btn button" value="Edit" action="{!Edit}" />
                                   
                                       <a class="btn button" onClick="df_drdw.createStudy.showDeleteConfirmModal();">Delete</a>
                                    </apex:outputPanel>
                                </div>
                            </section>
                            <!---------------------------------------------------------Buttons Section---------------------------------------------------------------------------------------------->
                         <!-- Modal for Delete confirmation start -->
                            <div class="modal fade rejected" id="confirm-delete-modal" tabindex="-1" role="dialog" aria-labelledby="confirmDeleteModalLabel">
                              <div class="modal-dialog modal-lg" role="document">
                                <div class="modal-content">
                                  <div class="modal-header approved">
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                    <h1 class="modal-title rejected" id="confirmDeleteModalLabelRejected">Confirm delete</h1>
                                  </div>
                                  <div class="modal-body">
                                    <!-- start -->
                                    <p>Are you sure you want to delete?</p>
                                    <!-- end -->
                                  </div>
                                  <!-- modal-body ends -->
                                  <div class="modal-footer">
                                    <button type="button" class="btn button cancel-action" data-dismiss="modal">Cancel</button>
                                    <apex:commandLink styleClass="btn button confirm-action" value="Delete" action="{!DeleteRecord}" />
                                  </div>
                                </div>
                              </div>
                            </div>
                            <!-- Modal for Delete confirmation start -->
                       
                        <!-- Modal for spinner starts -->
                            <div id="loading-results">
                                    <div class="loading-message">
                                        <apex:image value="{!URLFOR($Resource.DRDW_QFOR_R1Style,'assets/img/rolling.gif')}" />
                                    </div>
                            </div>
                            <!-- Modal for spinner ends -->
                      
                        </apex:form>
                       
                       </apex:outputpanel>
                </main>
                </div>
         </div>
         <c:DRDW_SR2_FooterComponent />
         <c:DRDW_QFOR_Scripts />
     </body> 
</apex:page>