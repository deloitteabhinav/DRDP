<apex:page sidebar="false" showHeader="false" standardStylesheets="false" controller="DRDW_HomePage" cache="false">

<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Digital R&amp;D Workbench</title>
    <apex:stylesheet value="{!URLFOR($Resource.DRDW_KMSR,'vendor/bootstrap-3.3.7-dist/css/bootstrap.min.css')}"/>
    <apex:stylesheet value="{!URLFOR($Resource.DRDW_KMSR,'css/digitalfoundry.css')}" />
    <apex:stylesheet value="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css"/>
    <apex:stylesheet value="https://jqueryui.com//resources/demos/style.css"/>
    <style>
        /* Homepage Styles */
        #wrap.homepage {
            display: flex;
            flex-direction: column;
            height: 100vh;
            margin-bottom: -80px;
            padding-bottom: 80px;
        }

        .homepage #main {
            padding-bottom: 0 !important;
            display: flex;
            flex: 1 0 auto;
            flex-direction: column;
        }

        .homepage section {
            width: 100%;
            display: flex;
            flex-direction: column;
            flex: 1 0 auto;
            padding: 15px;
            justify-content: center;
        }
    
    .side-menu {
        margin-top: 5px;
    }
    .profile-dropdown-div{
        margin-left: -120px;
        margin-top: 4px;
     }
    .profile-dropdown {
        margin-left:30px;
    }
    .profile-dropdown .profile-menu{
        background: transparent;
        overflow: hidden;
        text-overflow: ellipsis;
        width: 180px;      
    }
    .profile-dropdown .dropdown-menu {
        background: black;
        color: white;
    }
    .profile-dropdown.open .profile-menu {
        color: #92d400;
    }
    .profile-dropdown .profile-menu:hover{
        color: #92d400;
    }
    .profile-dropdown.open .profile-menu:hover{
        color: #92d400;
    }
    .profile-dropdown .dropdown-menu li a{
        background: black;
        color: white;
        padding-bottom: 5px;
    }
    .profile-dropdown .dropdown-menu li a:hover{
        background: black;
        color: #92d400;
    }
    </style>
    <apex:includeScript value="https://code.jquery.com/jquery-1.12.4.js"/>
    <apex:includeScript value="https://code.jquery.com/ui/1.12.1/jquery-ui.js"/>
    <apex:includeScript value="{!URLFOR($Resource.DRDW_KMSR,'vendor/jquery/jquery-3.1.1.min.js')}"/>
    <apex:includeScript value="{!URLFOR($Resource.DRDW_KMSR,'vendor/bootstrap-3.3.7-dist/js/bootstrap.min.js')}"/>
    <apex:includeScript value="{!URLFOR($Resource.DRDW_KMSR,'js/index.js')}"/>
    <script type='text/javascript'>
          
            function isValidSearchString(searchString) {
                var SEARCH_TRIGGER_THRESHOLD = 2;
                var trimmedSearchString = searchString.trim();

                    // check length
                    if (trimmedSearchString.length < SEARCH_TRIGGER_THRESHOLD) {
                        return false;
                    } 

                    // has atleast 2 characters
                    if (!/(.*[a-z]|.*\d){2}/i.test(trimmedSearchString)) {
                        return false;
                    }

                    return true;
            }
            
            function clickSearch(ev)  {
                if (window.event && window.event.keyCode == 13 || ev.which == 13) {
                        var searchString = (document.getElementsByClassName("keyword_Global_Search"))[0].value;
                        
                        if (isValidSearchString(searchString)){
                            
                            doSearchglobal();
                        }
                        //searchString = (document.getElementsByClassName("keyword_Global_SearchMobile"))[0].value;      
                        //if (isValidSearchString(searchString)){
                            
                            //doSearchglobal();
                            
                        //}
                    return false;
                } else {
                    return true;
                }
             }
             
            </script> 
</head>

<body>
    <apex:form >
    <apex:actionFunction name="doSearchglobal" action="{!populateGlobalURL}"/>
    <div id="wrap" class="homepage">
        <div id="header" class="hidden-xs">
            <div class="container">
                <div class="row">
                    <div class="col-xs-3 zero-right-padding">
                        <a><apex:image url="{!HomeHeader1}" height="49" width="103" style="text-indent: -99999px; display: inline-block;"/></a>
                        <a><apex:image url="{!HomeHeader2}" height="49" width="103" style="text-indent: -99999px; display: inline-block; background-size: contain; margin-left: 10px;"/></a>
                       
                    </div>
                    <div class="col-xs-8 zero-left-padding">
                        <ul class="nav">
                            <li>
                            <apex:repeat value="{!lHomeTabs}" var="HomeTab">
                                <apex:outputPanel rendered="{!IF(HomeTab.Value__c != 'Admin',true,false)}">
                                        <apex:outputPanel rendered="{!IF(And(HomeTab.Value__c == 'Capacity',showGOPage,Not(hidecapacityTab)),true,false)}">
                                            <a href="/apex/DRDW_GOView" class="{!If(HomeTab.Tab_Sequence__c==1,'tab-research',If(HomeTab.Tab_Sequence__c==2,'tab-info-landscape',If(HomeTab.Tab_Sequence__c==3,'tab-partnerships',If(HomeTab.Tab_Sequence__c==4,'tab-relationships',If(HomeTab.Tab_Sequence__c==5,'tab-requests',If(HomeTab.Tab_Sequence__c==6,'tab-admin hidden-sm hidden-md',''))))))}">                        
                                                <span class="menu-text">{!HomeTab.Value__c}</span>
                                            </a>
                                        </apex:outputPanel>
                                        <apex:outputPanel rendered="{!IF(And(HomeTab.Value__c == 'Capacity',!showGOPage,Not(hidecapacityTab)),true,false)}">
                                            <a href="/apex/DRDW_ERLView" class="{!If(HomeTab.Tab_Sequence__c==1,'tab-research',If(HomeTab.Tab_Sequence__c==2,'tab-info-landscape',If(HomeTab.Tab_Sequence__c==3,'tab-partnerships',If(HomeTab.Tab_Sequence__c==4,'tab-relationships',If(HomeTab.Tab_Sequence__c==5,'tab-requests',If(HomeTab.Tab_Sequence__c==6,'tab-admin hidden-sm hidden-md',''))))))}">                        
                                                <span class="menu-text">{!HomeTab.Value__c}</span>
                                            </a>
                                        </apex:outputPanel>
                                        <apex:outputPanel rendered="{!IF(And(HomeTab.Value__c != 'Capacity'),true,false)}">
                                            <a href="{!HomeTab.URL__c}" class="{!If(HomeTab.Tab_Sequence__c==1,'tab-research',If(HomeTab.Tab_Sequence__c==2,'tab-info-landscape',If(HomeTab.Tab_Sequence__c==3,'tab-partnerships',If(HomeTab.Tab_Sequence__c==4,'tab-relationships',If(HomeTab.Tab_Sequence__c==5,'tab-requests',If(HomeTab.Tab_Sequence__c==6,'tab-admin hidden-sm hidden-md',''))))))}">                        
                                                <span class="menu-text">{!HomeTab.Value__c}</span>
                                            </a>
                                        </apex:outputPanel>                                    
                                </apex:outputPanel>
                                
                                <apex:outputPanel rendered="{!IF(And(isFinancialAdmin,HomeTab.Value__c == 'Admin'),true,false)}">
                                    <a href="{!HomeTab.URL__c}" class="{!If(HomeTab.Tab_Sequence__c==1,'tab-research',If(HomeTab.Tab_Sequence__c==2,'tab-info-landscape',If(HomeTab.Tab_Sequence__c==3,'tab-partnerships',If(HomeTab.Tab_Sequence__c==4,'tab-relationships',If(HomeTab.Tab_Sequence__c==5,'tab-requests',If(HomeTab.Tab_Sequence__c==6,'tab-admin hidden-sm hidden-md',''))))))}">                        
                                        <span class="menu-text">{!HomeTab.Value__c}</span>
                                    </a>
                                 </apex:outputPanel>
                            
                                
                            </apex:repeat>
                            <!--a href ="/apex/DRDW_StudyList" class="tab-research"><span>Research</span></a>
                            <a href ="/apex/DRDW_InformationLandscapeList" class="tab-info-landscape"><span>Info Landscape</span></a>
                            <a href ="/apex/PartnerShipList" class="tab-partnerships"><span>Partnerships</span></a>
                            <a href ="/apex/DRDW_RelationshipList" class="tab-relationships"><span>Relationships</span></a>
                            <a href ="/apex/RequestList" class="tab-requests"><span>Requests</span></a>
                            <a href="/home/home.jsp?tsid=null" class="tab-admin hidden-sm hidden-md"><span>Admin</span></a-->
                            </li>
                        </ul>
                    </div>
                    <div class="col-xs-1 zero-padding profile-dropdown-div">
                        <!--div class="dashboard pull-left">
                            <a href="#">
                                <span class="glyphicon glyphicon glyphicon-list-alt"></span>
                            </a>
                        </div-->
                        <!--div class="logout pull-right">
                            <a href="/secur/logout.jsp">
                                <span class="glyphicon glyphicon-log-out"></span>
                            </a>
                        </div-->
                        <div class="dashbaord dropdown profile-dropdown">
                          <button class="btn dropdown-toggle profile-menu" type="button" data-toggle="dropdown">Hi, {!$User.FirstName}
                          <span class="caret"></span></button>
                          <ul class="dropdown-menu">
                            <li><a href="/ui/setup/Setup?setupid=PersonalSetup">My settings</a></li>
                            <li><a href="/_ui/core/userprofile/UserProfilePage">My Profile</a></li>
                            <li><a href="/secur/logout.jsp">Logout</a></li>
                          </ul>
                        </div> 
                    </div>
                </div>
            </div>
        </div>
        <div class="mobile-header visible-xs navbar navbar-fixed-top navbar-inverse">
            <div class="container-fluid zero-padding">
                <div class="navbar-brand">
                    <a class="hamburger pull-left">
                        <span class="glyphicon glyphicon-menu-hamburger show-menu"></span>
                        <span class="glyphicon glyphicon-remove hide-menu"></span>                        
                    </a>
                    <a><apex:image url="{!HomeHeader1}" height="49" width="103" style="text-indent: -99999px; display: block; float: left!important;"/></a>
                    <a><apex:image url="{!HomeHeader2}" height="49" width="103" style="text-indent: -99999px; display: block; background-size: contain; margin-left: 10px;float: left!important;"/></a>
                                      
                    <!--a class="logo dd-logo pull-left">Deloitte Digital</a>
                    <a class="logo drdw-logo pull-left">DRDP logo</a-->
                    <a class="logout-button pull-right" href="#" title="Logout">
                        <span class="icon-logout glyphicon glyphicon-log-out"></span>
                    </a>
                </div>
            </div>
        </div>
        <!-- Mobile menu begins -->
        <div class="navbar navbar-fixed-left navbar-mobile hidden-lg hidden-md hidden-sm hidden">
            <ul class="nav navbar-nav">
                <apex:repeat value="{!lHomeTabs}" var="HomeTab">
                    <li>
                        <a href="{!HomeTab.URL__c}">                        
                            <span class="menu-text">{!HomeTab.Value__c}</span>
                        </a>
                    </li>
                </apex:repeat>
            </ul>
        </div>
        <!-- Mobile menu ends -->
        <div class="offset visible-xs">            
        </div>
        <div id="main">
            <section class="section-1 container-fluid banner-color-black hidden-xs">
                <div class="pattern"></div>
                <div class="container">
                    <div class="row">
                        <div class="col-md-offset-1 col-md-10 col-xs-12">
                            <div class="media ">
                                <div class="media-left pull-right">
                                    <div class="media-object">
                                        <apex:image url="{!HomeBanner}" height="155" width="155" styleClass="logo-brain"/>
                                    </div>
                                </div>
                                <div class="media-body">
                                    <h1 class="media-heading">{!HomeTitle}</h1>
                                    <hr/>
                                    <p class="media-tagline">{!HomeTitleDiscription}</p>
                                    <apex:inputText rendered="{!!IsMobile}" id="auto11" required="false" html-placeholder="Search..." onkeypress="return clickSearch(event);" styleclass="keyword_Global_Search" value="{!searchWord}">
                                    <apex:outputPanel rendered="{!!IsMobile}">
                                    <c:DRDW_Nugget_AutoCompleteComponent objectname="DRDW_Project__c" input_id="{!$Component.auto11}" numberOfResultsToDisplay="10" wildcardBefore="false"/>
                                    </apex:outputPanel>
                                    </apex:inputText>

                                    <apex:inputText rendered="{!IsMobile}" id="auto13" required="false" html-placeholder="Search..." onkeypress="return clickSearch(event);" styleclass="keyword_Global_Search" value="{!searchWord}">
                                    <apex:outputPanel rendered="{!IsMobile}">
                                    <c:DRDW_Nugget_AutoCompleteComponent objectname="Project__c" input_id="{!$Component.auto13}" numberOfResultsToDisplay="10" wildcardBefore="false"/>
                                    </apex:outputPanel>
                                    </apex:inputText>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="container">
                    <div class="search-box">
                    </div>
                </div>
            </section>
            
           <!--section class="section-2 container-fluid">
                <div class="container">
                    <div class="row">
                        <div class="text-center">
                            <div class="center-block">
                                <a href="{!HomeCard1URL}">
                                    <div class="card">
                                        <apex:image url="{!HomeCard1}" styleClass="card-icon"/>
                                        <!--img class="card-icon" src="{!URLFOR($Resource.KMSR,'assets/img/analytics.png')}">
                                        <div class="card-content">
                                            {!HomeCard1Text}
                                        </div>
                                    </div>
                                </a>
                                <!--a href="{!HomeCard2URL}">
                                    <div class="card">
                                        <apex:image url="{!HomeCard2}" styleClass="card-icon"/>
                                        <!--img class="card-icon" src="{!URLFOR($Resource.KMSR,'assets/img/users-1.png')}"/-->
                                        <!--div class="card-content">
                                            {!HomeCard2Text}
                                        </div>
                                    </div>
                                </a>
                                <a href="{!HomeCard2URL}">
                                    <div class="card">
                                        <apex:image url="{!HomeCard3}" styleClass="card-icon"/>
                                        <!--img class="card-icon" src="{!URLFOR($Resource.KMSR,'assets/img/green-link.png')}"/>
                                        <div class="card-content">
                                            {!HomeCard2Text}
                                        </div>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </section-->
             <section class="section-3 container-fluid">
                <div class="pattern"></div>
                <div class="container">
                    <div class="row">
                        <div class="col-md-12 col-xs-12">
                            <div class="card">                                
                                <div>
                                    <a href="{!HomeCard1URL}" class="button btn-share-idea font-r">                                     
                                        <apex:image url="{!HomeCard1}" styleClass="card-icon"/>                                        
                                        
                                           <span> {!HomeCard1Text}</span>
                                        
                                    </a>
                                    <a href="{!HomeCard2URL}" class="button btn-share-idea font-r">
                                        
                                            <apex:image url="{!HomeCard3}" styleClass="card-icon"/>                                        
                                            
                                               <span> {!HomeCard2Text}</span>
                                        
                                    </a>                                    
                                    
                                    <a href="#" class="button btn-share-idea font-r">
                                        <apex:image url="{!HomeCard2}" styleClass="card-icon"/> 
                                        <span>Help</span>
                                    </a>
                                </div>
                            </div>
                        </div>                        
                    </div>
                </div>
            </section>
        </div>
    </div>
    <div id="footer">
        <div class="container">
            <a><apex:image url="{!HomeHeader1}" height="49" width="103" styleClass="hidden-xs" style="text-indent: -99999px; display: inline-block;"/></a>
            <!--a href="" class="dd-logo hidden-xs" data-toggle="modal" data-target="#myModal">Deloitte Digital</a-->
            <span class="copyright-text pull-right">&copy; Copyright 2017. All rights reserved.</span>
            <a href="https://gso.my.salesforce.com/apex/FORM_StartFormPage?id=a2z0N000000deTM" target="_blank" class="pull-right feedback-button">
                <!-- <span class="bracket">[</span>
                <span class="plus">+</span>
                <span class="bracket">]</span> -->
                <span class="plus">[+]</span>
                <span class="feedback-text">[Feedback]</span>
            </a>
        </div>
    </div>
    <!-- Modal -->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">Feedback</h4>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="form-group">
                            <label for="recipient-name" class="control-label bold">Feedback on:</label>
                            <apex:inputField styleclass="form-control" value="{!oFeedback.Feedback_Page__c}"/>
                        </div>
                        <label for="recipient-name" class="control-label bold">Rate your experience</label>
                        <div class="form-group">
                            <apex:selectRadio value="{!sSelectedExperience}">
                                <apex:selectOptions value="{!lExperience}"/>
                            </apex:selectRadio>
                        </div>
                        <div class="form-group">
                            <label for="message-text" class="control-label bold">Your comments:</label>
                            <apex:inputtextarea styleclass="form-control" value="{!oFeedback.Comments__c}" id="message-text"/>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <apex:commandbutton styleclass="btn btn-primary" value="Send Feedback" action="{!SaveFeedback}"/>
                </div>
            </div>
        </div>
    </div>
    <!-- /.modal -->
    </apex:form>
</body>
</html>

</apex:page>